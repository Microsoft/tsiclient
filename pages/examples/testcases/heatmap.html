<!DOCTYPE html> 
<html>
    <head>
    </head>
    <body style="font-family: 'Segoe UI', sans-serif;">
        Heatmap testing
        <div id="chart1" style="width: 100%; height: 50vh;"></div>
        <script>
            window.onload = function() {
                
                var data = [{
                    "Event Count": {
                    "a": {
                        "2019-03-11T23:00:00.000Z": {
                        "count": 50201
                        },
                        "2019-03-11T23:15:00Z": {
                        "count": 42096
                        },
                        "2019-03-11T23:30:00Z": {
                        "count": 52338
                        },
                        "2019-03-11T23:45:00Z": {
                        "count": 46863
                        },
                        "2019-03-12T00:00:00Z": {
                        "count": 63763
                        },
                        "2019-03-12T00:15:00Z": {
                        "count": 58170
                        },
                        "2019-03-12T00:30:00Z": {
                        "count": 52664
                        },
                        "2019-03-12T00:45:00Z": {
                        "count": 47201
                        },
                        "2019-03-12T01:00:00Z": {
                        "count": 49020
                        },
                        "2019-03-12T01:15:00Z": {
                        "count": 46085
                        },
                        "2019-03-12T01:30:00Z": {
                        "count": 46229
                        },
                        "2019-03-12T01:45:00Z": {
                        "count": 43997
                        },
                        "2019-03-12T02:00:00Z": {
                        "count": 45833
                        },
                        "2019-03-12T02:15:00Z": {
                        "count": 42594
                        },
                        "2019-03-12T02:30:00Z": {
                        "count": 42412
                        },
                        "2019-03-12T02:45:00Z": {
                        "count": 40972
                        },
                        "2019-03-12T03:00:00Z": {
                        "count": 43923
                        },
                        "2019-03-12T03:15:00Z": {
                        "count": 40791
                        },
                        "2019-03-12T03:30:00Z": {
                        "count": 41680
                        },
                        "2019-03-12T03:45:00Z": {
                        "count": 41045
                        },
                        "2019-03-12T04:00:00Z": {
                        "count": 42983
                        },
                        "2019-03-12T04:15:00Z": {
                        "count": 38098
                        },
                        "2019-03-12T04:30:00Z": {
                        "count": 38791
                        },
                        "2019-03-12T04:45:00Z": {
                        "count": 36815
                        },
                        "2019-03-12T05:00:00Z": {
                        "count": 39334
                        },
                        "2019-03-12T05:15:00Z": {
                        "count": 37335
                        },
                        "2019-03-12T05:30:00Z": {
                        "count": 38960
                        },
                        "2019-03-12T05:45:00Z": {
                        "count": 37561
                        },
                        "2019-03-12T06:00:00Z": {
                        "count": 42344
                        },
                        "2019-03-12T06:15:00Z": {
                        "count": 38384
                        },
                        "2019-03-12T06:30:00Z": {
                        "count": 39961
                        },
                        "2019-03-12T06:45:00Z": {
                        "count": 37923
                        },
                        "2019-03-12T07:00:00Z": {
                        "count": 41307
                        },
                        "2019-03-12T07:15:00Z": {
                        "count": 37125
                        },
                        "2019-03-12T07:30:00Z": {
                        "count": 38928
                        },
                        "2019-03-12T07:45:00Z": {
                        "count": 37895
                        },
                        "2019-03-12T08:00:00Z": {
                        "count": 40432
                        },
                        "2019-03-12T08:15:00Z": {
                        "count": 36723
                        },
                        "2019-03-12T08:30:00Z": {
                        "count": 38590
                        },
                        "2019-03-12T08:45:00Z": {
                        "count": 36398
                        },
                        "2019-03-12T09:00:00Z": {
                        "count": 39616
                        },
                        "2019-03-12T09:15:00Z": {
                        "count": 35744
                        },
                        "2019-03-12T09:30:00Z": {
                        "count": 38184
                        },
                        "2019-03-12T09:45:00Z": {
                        "count": 36181
                        },
                        "2019-03-12T10:00:00Z": {
                        "count": 38488
                        },
                        "2019-03-12T10:15:00Z": {
                        "count": 34925
                        },
                        "2019-03-12T10:30:00Z": {
                        "count": 36273
                        },
                        "2019-03-12T10:45:00Z": {
                        "count": 35318
                        },
                        "2019-03-12T11:00:00Z": {
                        "count": 37256
                        },
                        "2019-03-12T11:15:00Z": {
                        "count": 35365
                        },
                        "2019-03-12T11:30:00Z": {
                        "count": 35873
                        },
                        "2019-03-12T11:45:00Z": {
                        "count": 35179
                        },
                        "2019-03-12T12:00:00Z": {
                        "count": 38938
                        },
                        "2019-03-12T12:15:00Z": {
                        "count": 38313
                        },
                        "2019-03-12T12:30:00Z": {
                        "count": 40691
                        },
                        "2019-03-12T12:45:00Z": {
                        "count": 39061
                        },
                        "2019-03-12T13:00:00Z": {
                        "count": 40442
                        },
                        "2019-03-12T13:15:00Z": {
                        "count": 38563
                        },
                        "2019-03-12T13:30:00Z": {
                        "count": 39896
                        },
                        "2019-03-12T13:45:00Z": {
                        "count": 40909
                        },
                        "2019-03-12T14:00:00Z": {
                        "count": 43202
                        },
                        "2019-03-12T14:15:00Z": {
                        "count": 42380
                        },
                        "2019-03-12T14:30:00Z": {
                        "count": 44978
                        },
                        "2019-03-12T14:45:00Z": {
                        "count": 45510
                        },
                        "2019-03-12T15:00:00Z": {
                        "count": 51567
                        },
                        "2019-03-12T15:15:00Z": {
                        "count": 48347
                        },
                        "2019-03-12T15:30:00Z": {
                        "count": 52089
                        },
                        "2019-03-12T15:45:00Z": {
                        "count": 52422
                        },
                        "2019-03-12T16:00:00Z": {
                        "count": 57878
                        },
                        "2019-03-12T16:15:00Z": {
                        "count": 46491
                        },
                        "2019-03-12T16:30:00Z": {
                        "count": 48483
                        },
                        "2019-03-12T16:45:00Z": {
                        "count": 46515
                        },
                        "2019-03-12T17:00:00Z": {
                        "count": 52865
                        },
                        "2019-03-12T17:15:00Z": {
                        "count": 49175
                        },
                        "2019-03-12T17:30:00Z": {
                        "count": 52001
                        },
                        "2019-03-12T17:45:00Z": {
                        "count": 46604
                        },
                        "2019-03-12T18:00:00Z": {
                        "count": 52963
                        },
                        "2019-03-12T18:15:00Z": {
                        "count": 45798
                        },
                        "2019-03-12T18:30:00Z": {
                        "count": 48712
                        },
                        "2019-03-12T18:45:00Z": {
                        "count": 45510
                        },
                        "2019-03-12T19:00:00Z": {
                        "count": 54337
                        },
                        "2019-03-12T19:15:00Z": {
                        "count": 45280
                        },
                        "2019-03-12T19:30:00Z": {
                        "count": 50515
                        },
                        "2019-03-12T19:45:00Z": {
                        "count": 48026
                        },
                        "2019-03-12T20:00:00Z": {
                        "count": 53253
                        },
                        "2019-03-12T20:15:00Z": {
                        "count": 44688
                        },
                        "2019-03-12T20:30:00Z": {
                        "count": 47868
                        },
                        "2019-03-12T20:45:00Z": {
                        "count": 45211
                        },
                        "2019-03-12T21:00:00Z": {
                        "count": 52753
                        },
                        "2019-03-12T21:15:00Z": {
                        "count": 46410
                        },
                        "2019-03-12T21:30:00Z": {
                        "count": 49918
                        },
                        "2019-03-12T21:45:00Z": {
                        "count": 46675
                        },
                        "2019-03-12T22:00:00Z": {
                        "count": 51906
                        },
                        "2019-03-12T22:15:00Z": {
                        "count": 44941
                        },
                        "2019-03-12T22:30:00Z": {
                        "count": 46778
                        },
                        "2019-03-12T22:45:00Z": {
                        "count": 42972
                        },
                        "2019-03-12T23:00:00Z": {
                        "count": 36413
                        }
                    }
                    },
                    "interpolationFunction": "",
                    "yExtent": null,
                    "includeEnvelope": false,
                    "includeDots": false,
                    "visibilityState": null,
                    "searchSpan": {
                    "to": "2019-03-12T23:10:32.869Z",
                    "from": "2019-03-11T23:10:32.869Z",
                    "bucketSize": "15m"
                    },
                    "measureTypes": [
                    "count"
                    ],
                    "color": "#008272",
                    "alias": "Event Count",
                    "contextMenu": [],
                    "aggKey": "Event%20Count_0"
                }];


                // render the data in a chart
                var tsiClient = new TsiClient();
                var to =  "2019-03-12T23:10:32.869Z";
                var from = "2019-03-11T23:10:32.869Z";

                var heatmap = new tsiClient.ux.Heatmap(document.getElementById('chart1'));
                heatmap.render(data, {theme: 'light'}, data.map(d => {return {measureTypes: ['count'], searchSpan: {from: from, to: to, bucketSize: '15m'}}}));

            };
        </script>
    </body>

    <!-- boilerplate headers are injected with head.js, grab them from the live example header, or include a link to head.js -->
    <script src="../boilerplate/head.js"></script>
</html>